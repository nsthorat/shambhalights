<script type="text/javascript">
  var socket = new WebSocket("ws://192.168.1.11:8080");

  socket.onopen = function() {
    console.log("Websocket opened...");
    animate();
  };
  
  // Do onchange, unless seen from threshold.

  function animate() {
    var speed = 41 - document.getElementById('speed').value;
    var r = document.getElementById('r').value;
    var g = document.getElementById('g').value;
    var b = document.getElementById('b').value;

    var payload = speed + ',' + r + ',' + g + ',' + b;
    console.log("writing payload: " + (speed + ',' + r + ',' + g + ',' + b));
    socket.send(payload);

    setTimeout(animate, 400);
  }
</script>
<style>
  input {
    width: 500px;
  }
</style>

Speed:<br>
<input id="speed" type="range" min="1" max="40"/><br>

R:<br>
<input id="r" type="range" min="0" max="255"/><br>

G:<br>
<input id="g" type="range" min="0" max="255"/><br>

B:<br>
<input id="b" type="range" min="0" max="255"/><br>
